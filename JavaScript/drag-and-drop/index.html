<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag and Drop image in js</title>
</head>
<link rel="stylesheet" href="./style.css">

<body>
    <div class="container">
        <label for="file-input" id="drop-img">
            <input type="file" accept="image/*" id="file-input" hidden>
            <div id="img-view">
                <img src="./icon.png" alt="upload image">
                <h2>Drag and Drop or click here<br>to upload image</h2>
                <span>Upload any image from desktop</span>
            </div>
        </label>
    </div>

    <script>
        let input = document.getElementById("file-input");
        let dropImg = document.getElementById("drop-img");
        let imgView = document.getElementById("img-view");

        input.addEventListener("change", uploadImage);

        function uploadImage() {
            let url = URL.createObjectURL(input.files[0]);
            imgView.style.backgroundImage = `URL(${url})`;
            imgView.textContent = "";
            imgView.style.border = "none";
        }

        dropImg.addEventListener("dragover", (e) => {
            e.preventDefault();
        });
        
        dropImg.addEventListener("drop", (e) => {
            e.preventDefault();
            console.log(e.dataTransfer.files);
            input.files = e.dataTransfer.files;
            console.log(input.files);
            uploadImage();
        });
        
    </script>
</body>
</html>

